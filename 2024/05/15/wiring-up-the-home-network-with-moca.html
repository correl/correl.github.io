<!doctype html>
<html lang="en-us">
  <head>
    <title>Wiring up the home network with MoCA // Projects and Coding Adventures</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.130.0">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Correl Roush" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://correl.phoenixinquis.net/css/main.min.86d08b4bb3efd338b408a5c3ba02c2f37aa024dbec7f62531aae2f9a7c0aa6da.css" />

    
      
  
    
      
    
  


    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Wiring up the home network with MoCA">
  <meta name="twitter:description" content="Our home WiFi coverage is … not great. We’re getting by with the old router from our ISP, and while it mostly works alright, the coverage isn’t fantastic everywhere. The upstairs rooms furthest from the router sometimes don’t get much signal at all. Updating that with new WiFi mesh devices might be awesome, but I’d also like to have the speed and reliability of a wired connection.
Sadly, our house is not wired up with ethernet.">

    <meta property="og:url" content="https://correl.phoenixinquis.net/2024/05/15/wiring-up-the-home-network-with-moca.html">
  <meta property="og:site_name" content="Projects and Coding Adventures">
  <meta property="og:title" content="Wiring up the home network with MoCA">
  <meta property="og:description" content="Our home WiFi coverage is … not great. We’re getting by with the old router from our ISP, and while it mostly works alright, the coverage isn’t fantastic everywhere. The upstairs rooms furthest from the router sometimes don’t get much signal at all. Updating that with new WiFi mesh devices might be awesome, but I’d also like to have the speed and reliability of a wired connection.
Sadly, our house is not wired up with ethernet.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2024-05-15T19:53:00-04:00">
    <meta property="article:modified_time" content="2024-05-15T19:53:00-04:00">


  </head>
  <body>
    <header class="app-header">
      <a href="https://correl.phoenixinquis.net/"><img class="app-header-avatar" src="/avatar.jpg" alt="Correl Roush" /></a>
      <h1>Correl Roush</h1>
      <p>Trans, tech-savvy, and a little silly. She/Her</p>
      <div class="app-header-social">
        
          <a target="_blank" href="https://github.com/correl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg></a>
        
          <a target="_blank" href="https://www.instagram.com/correlroush/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-instagram">
  <title>instagram</title>
  <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line>
</svg></a>
        
          <a target="_blank" rel="me" href="https://tech.lgbt/@correlr">
            <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                 width="24" height="24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none" class="icon">
            <title>Mastodon</title>
            <path d="M23.268 5.313c-.35-2.578-2.617-4.61-5.304-5.004C17.51.242 15.792 0 11.813 0h-.03c-3.98 0-4.835.242-5.288.309C3.882.692 1.496 2.518.917 5.127.64 6.412.61 7.837.661 9.143c.074 1.874.088 3.745.26 5.611.118 1.24.325 2.47.62 3.68.55 2.237 2.777 4.098 4.96 4.857 2.336.792 4.849.923 7.256.38.265-.061.527-.132.786-.213.585-.184 1.27-.39 1.774-.753a.057.057 0 0 0 .023-.043v-1.809a.052.052 0 0 0-.02-.041.053.053 0 0 0-.046-.01 20.282 20.282 0 0 1-4.709.545c-2.73 0-3.463-1.284-3.674-1.818a5.593 5.593 0 0 1-.319-1.433.053.053 0 0 1 .066-.054c1.517.363 3.072.546 4.632.546.376 0 .75 0 1.125-.01 1.57-.044 3.224-.124 4.768-.422.038-.008.077-.015.11-.024 2.435-.464 4.753-1.92 4.989-5.604.008-.145.03-1.52.03-1.67.002-.512.167-3.63-.024-5.545zm-3.748 9.195h-2.561V8.29c0-1.309-.55-1.976-1.67-1.976-1.23 0-1.846.79-1.846 2.35v3.403h-2.546V8.663c0-1.56-.617-2.35-1.848-2.35-1.112 0-1.668.668-1.67 1.977v6.218H4.822V8.102c0-1.31.337-2.35 1.011-3.12.696-.77 1.608-1.164 2.74-1.164 1.311 0 2.302.5 2.962 1.498l.638 1.06.638-1.06c.66-.999 1.65-1.498 2.96-1.498 1.13 0 2.043.395 2.74 1.164.675.77 1.012 1.81 1.012 3.12z"/>
          </svg>
        </a>
      </div>
      <p>
          <a href="/files/resume.pdf"> 
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-download">
  <title>download</title>
  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>
</svg>
              Download Résumé
          </a>
      </p>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Wiring up the home network with MoCA</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          May 15, 2024
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          3 min read
        </div></div>
    </header>
    <div class="post-content">
      <p>Our home WiFi coverage is &hellip; not great. We&rsquo;re getting by with the old router
from our ISP, and while it mostly works alright, the coverage isn&rsquo;t fantastic
everywhere. The upstairs rooms furthest from the router sometimes don&rsquo;t get much
signal at all. Updating that with new WiFi mesh devices might be awesome, but
I&rsquo;d also like to have the speed and reliability of a wired connection.</p>
<p>Sadly, our house is not wired up with ethernet. It <em>is</em>, however, wired up with
coax to every room from our cable installation. We&rsquo;re no longer using that for
television, so why not use it for our network? Enter <a href="https://en.wikipedia.org/wiki/Multimedia_over_Coax_Alliance">MoCA</a>. MoCA is a standard
for passing network traffic over a network of coaxial cables. With a handful of
MoCA 2.0 adapters, I can ensure each room in the house that needs a reliable
connection with speeds of up to 2.5Gbps.</p>
<figure><img src="/ox-hugo/moca-adapters.jpg"
    alt="A pair of black rectangular adapters. One end of each has a coaxial port, and the other end has an ethernet port. A pair of lights on each device indicate power and coax signal."><figcaption>
      <p><span class="figure-number">Figure 1: </span>MoCA adapters</p>
    </figcaption>
</figure>

<p>Setup was pretty simple: Connect an adapter between a coax line and one of the
router&rsquo;s available ethernet ports, and another adapter between a coax line and a
PC. Once two or more adapters are on the coax cable network, they light up to
let you know they&rsquo;re talking to each other. The connection to my second floor
home office worked great, and I confirmed that I could get 1Gbps between two of
my devices over the coax connection (matching the best speed their ethernet
ports could muster).</p>
<p>Other rooms, unfortunately, didn&rsquo;t fare as well. I just could not seem to get a
reliable signal in one of the bedrooms, and another wouldn&rsquo;t get anything at all
(it was splitting the signal from the first one). A little bit of research led
me to a pretty important thing to note when setting up such a network: not all
coaxial splitters are the same. It turned out my office was using a pretty new
splitter that was connected directly to the cable coming from the router. All of
the other cables in the house, however, were passing through some pretty old
ones.</p>
<figure><img src="/ox-hugo/coax-splitter-old.jpg"
    alt="An aged and weathered coaxial splitter with one input and four outputs, labeled as supporting up to 1000Mhz"><figcaption>
      <p><span class="figure-number">Figure 2: </span>The old coax splitter, supporting up to 1Ghz</p>
    </figcaption>
</figure>

<p>Coax splitters are rated for specific frequency ranges. Signals outside of those
frequencies are effectively <em>filtered out</em>. To get the full benefit of MoCA 2.5,
any splitters in the network need to support up to 1675Mhz. Also, any splitters
that live outside and exposed to weather conditions may lose signal strength
over time due to oxidation and other factors. It just so happens that the main
splitter for my house is quite old, lives on the outside wall, and is rated for
only up to 1000Mhz. <em>Whoops</em>. Replacing that (and a couple other old ones I
found in the house) cleared everything up, and now all my connections are
working just fine! For the couple of rooms that have a handful of ethernet
devices (my office, and the living room entertainment center), I got a pair of
inexpensive 5-port ethernet switches to get everything linked up to the
adapters.</p>
<figure><img src="/ox-hugo/coax-splitter-new.jpg"
    alt="A brand new coaxial splitter with one input and four outputs, labeled as supporting up to 2.4Ghz"><figcaption>
      <p><span class="figure-number">Figure 3: </span>A new coax splitter supporting up to 2.4Ghz</p>
    </figcaption>
</figure>

<p>I&rsquo;ll still want to upgrade the WiFi at some point, but at least now our devices
that need strong connections the most have just what they need. I no longer have
to worry about the WiFi signal dropping when I&rsquo;m working in my office, and the
living room can play high-definition media off my home server without any
trouble at all.</p>
<p>Now if I could just get the cat to stop chewing on the cables&hellip;</p>

    </div>
    <div class="post-footer">
      <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "correl" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </article>

    </main>
  </body>
</html>
